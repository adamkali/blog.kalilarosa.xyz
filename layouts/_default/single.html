{{ define "main" }}
<div class="flex flex-col items-center min-h-screen">
	{{ partial "menu.html" (dict "menuID" "main" "page" .) }}
	<div class="w-2/3 max-w-4xl space-y-8 mt-8">
		{{ if .Params.toc }}
		<div class="blog-card p-6">
			<p class="text-glow-secondary font-semibold mb-4">
				Table of Contents:
			</p>
			{{ .TableOfContents }}
		</div>
		{{ end }}
		<header class="w-full">
			<h1 class="text-center mb-6">{{ .Title }}</h1>
			{{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }}
			{{ $dateHuman := .Date | time.Format ":date_long" }}
			<i class="nf nf-fa-clock_0"></i>
			<div aria-label="breadcrumb"
				class="glass-nav w-full mx-auto mt-6 pt-4 flex flex-row h-12 divide-slate-200 text-lg font-semibold text-center justify-evenly mb-8">
				<ol class="space-x-4 flex flex-row">
					{{ if .Draft }}
					<span class="">DRAFT</span> &#183;
					{{ end }}
					<li>
						<b class="text-glow-primary font-bold">Created:</b>&nbsp;<time datetime="{{ $dateMachine }}">{{
							$dateHuman }}</time>
					</li>
					{{ $lastModMachine := .Lastmod | time.Format "2006-01-02T15:04:05-07:00" }}
					{{ if and (isset .Params "lastmod") (ne $lastModMachine $dateMachine) }}
					{{ $lastModHuman := .Lastmod | time.Format ":date_long" }}
					<li>
						<b class="text-glow-primary font-bold"> Updated:</b>&nbsp;<time
							datetime="{{ $lastModMachine }}">{{ $lastModHuman }}</time>
					</li>
					{{ end }}
					<li class="">
						<b class="text-glow-primary font-bold">Reading Time:</b>&nbsp;{{ printf "%d minutes"
						.ReadingTime }}
					</li>
					{{ if isset .Params "download" }}
					<li class="">
						{{ if reflect.IsSlice .Params.download }}
							{{ range $index, $file := .Params.download }}
								{{ if gt $index 0 }}&nbsp;{{ end }}
								<a href="/files/{{ $file }}" target="_blank" rel="noopener noreferrer" 
								   class="text-glow-secondary hover:text-glow-primary transition-colors duration-200 text-sm">
									<span class="nf">ðŸ“¥</span> {{ $file }}
								</a>
							{{ end }}
						{{ else }}
							<a href="/files/{{ .Params.download }}" target="_blank" rel="noopener noreferrer" 
							   class="text-glow-secondary hover:text-glow-primary transition-colors duration-200 text-sm">
								<span class="nf">ðŸ“¥</span> Download
							</a>
						{{ end }}
					</li>
					{{ end }}
				</ol>
			</div>
		</header>
		{{ if isset .Params "lead" }}
		<section class="text-center">
			<span class="italic text-glow-quartary text-lg">{{ .Params.lead }}</span>
		</section>
		{{ end }}
		
		<article class="blog-card space-y-4 text-justify mb-8 p-8">
			{{ .Content }}
		</article>
		{{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}
		{{ partial "post-pagination.html" . }}
	</div>
</div>
<footer>
	{{ partial "footer.html" . }}
</footer>
{{ end }}
